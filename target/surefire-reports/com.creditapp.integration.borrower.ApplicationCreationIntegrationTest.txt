-------------------------------------------------------------------------------
Test set: com.creditapp.integration.borrower.ApplicationCreationIntegrationTest
-------------------------------------------------------------------------------
Tests run: 9, Failures: 8, Errors: 0, Skipped: 0, Time elapsed: 0.220 s <<< FAILURE! -- in com.creditapp.integration.borrower.ApplicationCreationIntegrationTest
com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_ShouldCreateAuditLogEntry -- Time elapsed: 0.041 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_ShouldCreateAuditLogEntry(ApplicationCreationIntegrationTest.java:193)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanAmountTooLow_ShouldReturn400 -- Time elapsed: 0.025 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.message" expected:<Loan amount must be at least 100> but was:<Validation failed>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:123)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanAmountTooLow_ShouldReturn400(ApplicationCreationIntegrationTest.java:113)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateValidApplication_ShouldPersistInDatabase -- Time elapsed: 0.054 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateValidApplication_ShouldPersistInDatabase(ApplicationCreationIntegrationTest.java:85)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateValidApplication_ShouldReturn201Created -- Time elapsed: 0.017 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateValidApplication_ShouldReturn201Created(ApplicationCreationIntegrationTest.java:65)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanTermTooHigh_ShouldReturn400 -- Time elapsed: 0.011 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.message" expected:<Loan term cannot exceed 360 months> but was:<Validation failed>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:123)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanTermTooHigh_ShouldReturn400(ApplicationCreationIntegrationTest.java:167)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanTermTooLow_ShouldReturn400 -- Time elapsed: 0.013 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.message" expected:<Loan term must be at least 6 months> but was:<Validation failed>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:123)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanTermTooLow_ShouldReturn400(ApplicationCreationIntegrationTest.java:149)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_Unauthenticated_ShouldReturn401 -- Time elapsed: 0.007 s <<< FAILURE!
java.lang.AssertionError: Status expected:<401> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_Unauthenticated_ShouldReturn401(ApplicationCreationIntegrationTest.java:175)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanAmountTooHigh_ShouldReturn400 -- Time elapsed: 0.011 s <<< FAILURE!
java.lang.AssertionError: JSON path "$.message" expected:<Loan amount cannot exceed 1,000,000> but was:<Validation failed>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:123)
	at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.creditapp.integration.borrower.ApplicationCreationIntegrationTest.testCreateApplication_WithLoanAmountTooHigh_ShouldReturn400(ApplicationCreationIntegrationTest.java:131)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

